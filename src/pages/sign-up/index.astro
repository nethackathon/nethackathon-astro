---
import MainLayout from '../../layouts/MainLayout.astro';
import SignUp from './_SignUp.vue';
import { parseEvent } from '../../js/shared.js';

const { currentEvent } = await fetch(`${import.meta.env.NODE_API}/event/current`)
  .then((response) => response.json());
const eventObject = parseEvent(currentEvent);

---
<MainLayout>
  <SignUp
    client:load
    currentEvent={eventObject}
  />
</MainLayout>
